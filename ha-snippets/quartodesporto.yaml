# ============================================================
# Home Assistant — Dashboard card: Quartodesporto
# Gerado por: ./deploy.sh quartodesporto
# Data: 2026-02-22
# ============================================================
# Requer os scripts bt_pair e bt_unpair em configuration.yaml
# (ver ha-snippets/configuration.yaml — adicionar uma única vez).
# Cole este YAML no editor Lovelace (Add Card → Manual).
# ============================================================

type: grid
cards:
  - type: heading
    icon: mdi:cast-audio
    heading: Quarto Desporto
    heading_style: title
  - type: tile
    entity: switch.s60tpf_10_rpi_quartodesporto
    name: Controlador
    icon: mdi:speaker-bluetooth
    features_position: bottom
    grid_options:
      columns: full
  - type: tile
    entity: binary_sensor.bt_quartodesporto
    name: Desligado
    icon: mdi:bluetooth-off
    hide_state: true
    vertical: false
    tap_action:
      action: call-service
      service: script.bt_pair
      data:
        divisao: quartodesporto
    icon_tap_action:
      action: none
    features_position: bottom
    visibility:
      - condition: state
        entity: switch.s60tpf_10_rpi_quartodesporto
        state: "on"
      - condition: state
        entity: binary_sensor.bt_quartodesporto
        state: "off"
  - type: tile
    entity: binary_sensor.bt_quartodesporto
    name: Ligado
    icon: mdi:bluetooth
    hide_state: true
    vertical: false
    tap_action:
      action: call-service
      service: script.bt_unpair
      data:
        divisao: quartodesporto
      confirmation:
        text: "Confirmar: esquecer o amplificador Bluetooth?"
    icon_tap_action:
      action: none
    features_position: bottom
    visibility:
      - condition: state
        entity: switch.s60tpf_10_rpi_quartodesporto
        state: "on"
      - condition: state
        entity: binary_sensor.bt_quartodesporto
        state: "on"
  - type: custom:mini-media-player
    entity: media_player.colunas_quartodesporto
    group: false
    volume_stateless: false
    artwork: full-cover-fit
    source: icon
    sound_mode: full
    info: short
    visibility:
      - condition: state
        entity: binary_sensor.bt_quartodesporto
        state: "on"
      - condition: state
        entity: media_player.colunas_quartodesporto
        state_not: "unavailable"
